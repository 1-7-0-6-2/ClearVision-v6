// CHANNELS
%channels {
	width: $channels-width;
	background: rgba(0, 0, 0, .3);
	overflow: hidden;

	// CHANNELS CONTAINER
	> %channelsContainer {
		background: transparent;
	}

	// CHANNELS HEADER
	%channelsHeaderContainer {
		z-index: 2;
	}
	%channelsHeader {
		height: 48px;
		background: rgba(0, 0, 0, .15);
		box-shadow: 0 2px 10px rgba(0, 0, 0, .3);
		color: #fff;
		font-weight: 600;
		text-shadow: 0 0 3px #000;
		&:hover {
			background: rgba(0, 0, 0, .3);
		}
	}
	%guildVerified {
		background: url(https://clearvision.gitlab.io/icons/verified.svg) center/18px no-repeat;
		filter: drop-shadow(0 0 5px);
		> g {
			display: none;
		}
	}
	%bannerImage {
		background-size: 0, cover;
		-webkit-mask: linear-gradient(to bottom, #000, transparent);
		mask: linear-gradient(to bottom, #000, transparent);
	}

	// CHANNEL CATEGORIES
	%categoryWrapper {
		transition: all .3s ease-in-out;
	}
	%categoryWrapperMuted { 
		opacity: .5;
	}
	%categoryIcon {
		display: none;
	}
	%categoryName {
		display: flex;
		align-items: center;
		justify-content: center;
		color: $main-color;
		font-weight: 700;
		text-align: center;
		transition: all .3s ease-in-out;
		opacity: .7;
		&:before,
		&:after {
			content: "";
			height: 2px;
			flex-grow: 1;
			transition: all .3s ease-in-out;
		}
		&:before {
			background: linear-gradient(to left, $main-color 50%, transparent);
			margin-right: 5px;
		}
		&:after {
			background: linear-gradient(to right, $main-color 50%, transparent);
			margin-left: 5px;
		}
	}
	%categoryNameHovered,
	%categoryNameHoveredCollapsed {
		opacity: 1;
	}
	%categoryNameCollapsed {
		opacity: .5;
	}
	%categoryNameCollapsed,
	%categoryNameHoveredCollapsed,
	%categoryIconMutedCollapsed + %categoryNameMuted {
		&:before,
		&:after {
			flex-grow: 0;
		}
	}
	%categoryIconMutedCollapsed + %categoryNameMuted {
		&:before,
		&:after {
			animation: cv-category-fix .3s;
		}
	}
	%categoryContainer {
		padding-top: 24px;
	}

	// TEXT & VOICE CHANNELS
	%channelContent {
		transition: all .15s ease-in-out;
	}
	%channelContentText {
		position: relative;
		&:before {
			content: "";
			position: absolute;
			@include stretch;
			transition: all .15s ease-in-out;
			z-index: -1;
		}
		&:after {
			content: "";
			position: absolute;
			@include pos(0, 100%, 0, 0);
			background: $main-color;
			transition: all .3s ease-in-out;
			z-index: -1;
		}
	}
	%channelContentVoice {
		&:active {
			background: hsla(0, 0%, 100%, .1);
		}
	}
	%channelName {
		color: hsla(0, 0%, 100%, .3);
		transition: all .15s ease-in-out;
	}
	%channelIcon {
		color: hsla(0, 0%, 100%, .3);
		opacity: 1;
		transition: all .15s ease-in-out;
		> path {
			opacity: 1;
		}
		> %channelIconBackground {
			opacity: .7;
		}
	}
	%channelActionIcon {
		opacity: .3;
		transition: all .15s ease-in-out;
		animation: cv-fade-to-3 .15s ease-in-out;
		&:hover {
			opacity: .7;
		}
	}

	// HOVER
	%channelContentHoveredText {
		background: transparent;
		&:before {
			background: hsla(0, 0%, 100%, .1);
		}
	}
	%channelContentHovered {
		%channelIcon,
		%channelName {
			color: hsla(0, 0%, 100%, .7);
		}
	}

	// UNREAD
	%channelUnreadIndicator {
		display: none;
		+ %channelContent {
			%channelNameUnreadText {
				color: $main-color;
				text-shadow: 0 0 3px;
			}
			%channelIcon {
				color: $main-color;
				filter: drop-shadow(0 0 3px);
				opacity: 1;
			}
		}
		+ %channelContentHoveredText {
			%channelNameUnreadText {
				color: #fff;
			}
			%channelIcon {
				color: #fff;
			}
		}
	}

	// SELECTED
	%channelContent {
		&%channelContentSelectedText {
			background: transparent;
			&:before {
				background: hsla(0, 0%, 100%, .1);
			}
			&:after {
				right: 0;
				animation: cv-slide-right .3s ease-in-out;
			}
			%channelIcon,
			%channelNameSelectedText {
				color: #fff;
			}
			%channelActionIcon {
				opacity: .7;
				&:hover {
					opacity: 1;
				}
			}
		}
	}

	// CONNECTED
	%channelContentConnectedVoice {
		%channelName {
			color: $main-color;
			text-shadow: 0 0 3px;
		}
		%channelIcon {
			color: $main-color;
			filter: drop-shadow(0 0 3px);
		}
		%channelUserLimit {
			background: hsla(0, 0%, 100%, .1);
			color: hsla(0, 0%, 100%, .7);
		}
	}

	// MUTED
	%channelContentMuted {
		%channelIcon,
		%channelName {
			color: hsla(0, 0%, 100%, .1);
		}
	}

	// ICONS
	%channelActionIcon {
		&[name=Gear] {
			background: url(https://clearvision.gitlab.io/icons/settings.svg) no-repeat center/18px;
			&:hover {
				animation: cv-spin 2.5s linear infinite;
			}
			> path {
				display: none;
			}
		}
		> svg[name=Invite] {
			background: url(https://clearvision.gitlab.io/icons/person_add.svg) no-repeat center/18px;
			> path {
				display: none;
			}
		}
	}

	// USER LIMIT
	%channelUserLimit {
		background: hsla(0, 0%, 100%, .04);
		border-radius: 3px;
		color: hsla(0, 0%, 100%, .3);
		font-weight: 600;
		transition: all .15s ease-in-out;
	}

	// VOICE USER LIST
	%voiceUser {
		border-radius: 3px;
		transition: all .15s ease-in-out;
		z-index: 1;
	}
	%voiceUserHovered:active {
		background: hsla(0, 0%, 100%, .04);
	}
	%voiceUserAvatar {
		position: relative;
		transition: all .1s ease-in-out;
		&:after {
			content: "";
			position: absolute;
			width: 0;
			@include pos($top: 0, $bottom: 0, $left: 50%);
			background: linear-gradient(to right, $main-color 10%, transparent);
			opacity: .5;
			transition: all .1s ease-in-out,  width .15s ease-in-out;
			pointer-events: none;
			z-index: -1;
		}
	}
	%voiceUserAvatarSpeaking {
		box-shadow: 0 0 0 2px $main-color, inset 0 0 3px rgba(0, 0, 0, .5);
		&:after {
			@include pos($top: -2px, $bottom: -2px);
			width: 100px;
		}
	}
	%voiceUserName {
		color: hsla(0, 0%, 100%, .7);
		transition: all .1s ease-in-out;
	}
	%voiceUserNameHovered,
	%voiceUserNameSpeaking {
		color: #fff;
	}
	%voiceUserName:hover,
	%voiceUserNameHovered {
		text-shadow: 0 0 3px;
	}

	// DRAG INDICATORS
	%categoryContainerDrag,
	%channelContainerDrag {
		&:before,
		&:after {
			background: $main-color;
			border-radius: 0;
		}
	}
	%channelContainerUserOver {
		&:after {
			background: $main-color;
			border-color: transparent;
			opacity: .1;
		}
	}
}