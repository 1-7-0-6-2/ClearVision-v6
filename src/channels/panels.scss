/* CHANNEL LIST PANELS */
%channels {

	// ACCOUNT & CONNECTION PANELS
	> %accountPanel,
	> %connectionPanel {
		background: transparent;
		box-shadow: 0 -2px 10px rgba(0, 0, 0, calc(#{cv("bg.app.shading")} * .3));
	}
	> %connectionPanel ~ %accountPanel {
		box-shadow: none;
	}
}

// ACCOUNT & CONNECTION PANELS
%accountPanel,
%connectionPanel {
	> %flex {
		background: rgba(0, 0, 0, .3);
		border-radius: 15px;
		> :nth-child(n+2) {
			position: relative;
			margin-left: -1px;
			&:before {
				content: "";
				position: absolute;
				left: 0;
				top: 2px;
				bottom: 2px;
				width: 1px;
				background: hsla(0, 0%, 100%, .2);
			}
		}
	}
}

// BUTTONS
%panelButton {
	width: 32px;
	height: 32px;
	opacity: 1;
	%panelButtonIcon {
		@include bg($rep: no-repeat, $pos: center, $size: 18px);
		color: #fff;
		opacity: .3;
		transition: all .1s ease-in-out;
		&[name=Nova_Microphone] {
			background-image: url(https://clearvision.gitlab.io/icons/mic.svg);
			> path {
				display: none;
			}
		}
		&[name=Nova_MicrophoneMute] {
			background-image: url(https://clearvision.gitlab.io/icons/mic_off.svg);
			> path {
				display: none;
			}
		}
		&[name=Nova_Headset] {
			background-image: url(https://clearvision.gitlab.io/icons/volume_up.svg);
			> svg {
				display: none;
			}
		}
		&[name=Nova_HeadsetDeafen] {
			background-image: url(https://clearvision.gitlab.io/icons/volume_off.svg);
			> path {
				display: none;
			}
		}
		&[name=Gear] {
			background-image: url(https://clearvision.gitlab.io/icons/settings.svg);
			> path {
				display: none;
			}
		}
		&[name=Info] {
			background-image: url(https://clearvision.gitlab.io/icons/info.svg);
			> g {
				display: none;
			}
		}
		&[name=Nova_CallLeave] {
			background-image: url(https://clearvision.gitlab.io/icons/call_end.svg);
			> path {
				display: none;
			}
		}
	}
	&%panelButtonDisabled {
		%panelBButtonIcon {
			opacity: .1;
		}
	}
	%channels &:not(%panelButtonDisabled):hover {
		background: transparent;
		%panelButtonIcon {
			opacity: .7;
			&[name=Gear] {
				animation: cv-spin 2.5s linear infinite;
			}
		}
	}
}

// ACCOUNT PANEL
%accountPanel {
	position: relative;
	margin-bottom: 10px;
	&:before,
	&:after {
		bottom: -8px;
		position: absolute;
		color: hsla(0, 0%, 100%, .3);
		font-size: 11px;
		font-weight: 700;
		transition: all .5s ease-in-out;
	}
	&:before {
		content: cv("const:text.account.main");
		right: 50%;
		text-align: right;
		transform: translateX(50%);
	}
	&:after {
		content: cv("const:text.account.version");
		left: 50%;
		text-align: left;
		opacity: 0;
		transform: translateX(50%) rotateX(90deg);
	}
	&:hover {
		&:before {
			margin-right: 1px;
			transform: none;
		}
		&:after {
			margin-left: 1px;
			opacity: 1;
			transform: none;
		}
	}

	// AVATAR
	%accountPanelAvatar {
		width: auto;
		height: auto;
		&:hover {
			opacity: 1;
		}
		> %status {
			top: 90%;
			left: 90%;
			margin-top: -6.5px;
			margin-left: -6.5px;
		}
		> %avatarInner {
			position: relative;
			width: 30px;
			height: 30px;
			@include bg($size: 100%, $repeat: no-repeat);
			transition: all .15s ease-in-out;
			&:after {
				content: "Status";
				position: absolute;
				@include stretch;
				vertical-align: middle;
				color: #fff;
				font-size: 5px;
				text-transform: uppercase;
				font-weight: 700;
				text-align: center;
				line-height: 30px;
				border-radius: cv("avatars.roundness");
				box-shadow: inset 0 0 70px rgba(0, 0, 0, .75);
				opacity: 0;
				transition: all .15s ease-in-out;
				pointer-events: none;
			}
		}
	}
	$accountPanelAvatarPopoutOpen: unique-id();
	%#{$accountPanelAvatarPopoutOpen} {
		width: 40px;
		height: 40px;
		&:after {
			font-size: 10px;
			line-height: 40px;
			opacity: 1;
		}
	}
	%accountPanelAvatar {
		%avatarInner {
			&:hover {
				@extend %#{$accountPanelAvatarPopoutOpen};
			}
		}
	}
	.popout-open {
		> %accountPanelAvatar {
			%avatarInner {
				@extend %#{$accountPanelAvatarPopoutOpen};
			}
		}
	}

	// NAME TAG
	%accountPanelUsername {
		color: #fff;
	}
	%accountPanelDiscriminator {
		color: hsla(0, 0%, 100%, .3);
	}
}

// CONNECTION PANEL
%connectionPanel {
	border-color: transparent;
	%connectionPanelInner {
		%rtcConnectionStatus {
			%rtcConnectionPing {
				width: 16px;
				height: 16px;
				margin-right: 3px;
				background-size: 16px;
			}
		}
	}
	%connectionPanelChannel {
		color: hsla(0, 0%, 100%, .3);
		opacity: 1;
		transition: all .15s ease-in-out;
		&:hover {
			color: hsla(0, 0%, 100%, .5);
			text-decoration: none;
		}
	}
}